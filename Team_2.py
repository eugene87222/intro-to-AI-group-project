import pickle
import random
import STcpClient
from copy import deepcopy

'''
ID : 2
隊名 : 我拿交大畢業證書
組長 : 0516034 楊翔鈞
組員 : 0516118 黃泳繁
'''

'''
    輪到此程式移動棋子
    board : 棋盤狀態(list of list), board[i][j] = i row, j column 棋盤狀態(i, j 從 0 開始)
            0 = 空、1 = 黑、2 = 白、-1 = 四個角落
    is_black : True 表示本程式是黑子、False 表示為白子

    return Step
    Step : single touple, Step = (r, c)
            r, c 表示要下棋子的座標位置 (row, column) (zero-base)
'''

WIDTH, HEIGHT = 8, 8
NORTH = [-1, 0]
NORTHEAST = [-1, 1]
EAST = [0, 1]
SOUTHEAST = [1, 1]
SOUTH = [1, 0]
SOUTHWEST = [1, -1]
WEST = [0, -1]
NORTHWEST = [-1, -1]

DIRECTIONS = (NORTH, NORTHEAST, EAST, SOUTHEAST, SOUTH, SOUTHWEST, WEST, NORTHWEST)
WHITE = 2
BLACK = 1
EMPTY = 0
CORNER = -1

BLACK_WEIGHT = [
    [1.9617309177273488, 12.748880872022346, -12.238698533217239, 2.2563696226130334, 13.44068999060321, -21.79282872190041, 6.670520009779921, 15.227115693616506, -15.222812525264393, 9.059699175215163, -6.603998324659178, -9.240021822692395, 2.7372094474940893, 15.847076956057856, -8.72535512813988, -4.158497693134093, 11.97140881564205, -2.2640781324058903, -0.7328947764678415, 8.620740388976213, -4.882832243594938, -18.089606178084107, 9.686207002766691, 7.656470249096647, -2.32131989464922, -5.726659894822467, -7.713427652012389],
    [0.9115735855185931, 1.7680084731150452, 7.509958456092241, 2.858744807104205, 4.113577278592298, -15.138493959781634, 2.0826046225547437, 8.296356804488422, -9.46817961480699, 5.270783734218578, -11.102296982016943, -2.3233792396189843, 12.802129557534357, 7.431380278072328, -8.113864706762888, 8.70808158470113, -9.220666719367872, 1.3128015270588766, -2.346816634636828, 3.186578289543187, 0.7922958488861175, -25.422391143397537, 0.5494223182366, 26.328831964043168, -7.907250223454805, -2.374465329968523, -6.257133713142131],
    [-1.7126037511235184, 35.73206293599442, -34.27538177608529, -0.5372568297272823, 22.31671541852444, -26.82516249501315, -0.14891277636343855, 25.25714359128452, -20.720126651548263, 0.13451812066785832, 1.2976901515866188, -5.035122233759744, -5.983098017469065, 2.7624280486472306, 4.856013926231529, 9.414264435887953, -8.94165514847079, 0.15880284835552483, 0.3843102514324251, 7.206223187912906, -6.292930940433406, -7.814227424707811, -2.251214505209511, 11.615264663720293, 2.329834614913139, -8.103271718409788, 1.2635096808954824],
    [0.6573854246281675, 1.5715296328908905, 0.15880294285727364, -1.6153944512981235, 0.5171298541158769, -2.1618454143063675, 2.5775112888129033, 1.3785625806469137, -4.572183214519754, -1.1645418728206773, -3.35791009866643, 1.0952407459477993, -1.3645308961644589, 0.3792338585163976, 1.8927139513316593, -0.761189004440457, 0.01706391333561775, -0.08313195054119538, -0.08562820776107663, -1.0569104665700313, 3.652929832755185, -0.002884882952218874, -0.20472243801378578, 0.12219677398113854, -2.3209278673293086, -0.669842481381309, -0.14540124772857788],
    [1.2200605895359522, -1.5944252075181018, 0.7702799517440163, -1.376386615372276, -0.5189505979798708, -2.046643140632567, 0.328848998764528, 2.8304327849810593, -0.5092738794201628, -0.5148402262563395, -1.4543337420348923, -0.9447781742193168, 2.8259677205970584, 0.5293629462914606, 0.5718060165157058, 1.8706730199013217, -1.1544270151003262, -1.0882527414856416, 1.3684202306427824, -0.8724903043972185, 1.658697810395687, -2.1448916191274345, 0.3403006249990002, 2.628793701503813, -2.51064671281044, -1.865072022065414, -0.5811210956907413],
    [3.9501089864466596, -9.590703953141999, 0.4023451618137785, -3.5947908317569714, 6.663530468628065, -5.628795306003313, 6.896740654430623, 5.986731616390962, -9.219974607776797, 2.4257122543412044, -5.72903642978699, 8.668364349630556, -4.071525042044338, 4.638808167831607, -0.8150951072944659, -1.6052104794941926, -0.4707423173013183, -1.0581128244475324, -2.7734032332099186, -6.58521706767332, 10.00455598955383, -2.3769482941649933, 2.3756846460843053, -0.12744560112575054, 1.9073216973923433, 1.3897140122297953, -5.42420042748982],
    [-1.0803245593209228, -3.739217100871775, 2.8068066766090713, 0.5590524476508287, -0.47493821532762814, 0.032312353165525484, 0.5373496916451597, 0.13721199226642145, 0.506024471880088, -0.9265445120077119, -0.10548794967584497, 1.3418123223386278, 1.737483015572455, 0.30086191219035935, -1.980937775112064, -0.25183144062997814, 1.1158778299842396, -0.7964956719959883, -2.0360976873290517, -0.049140548743979155, 0.11007988322318331, 2.86047058750829, 0.21655766391964992, -0.7975633596833805, -0.9355158956194529, 0.077619683473456, -1.6914371190168558],
    [0.1962801219653632, -0.40295880503143544, -0.2551463749233401, 0.8517394833900943, 2.2114974513966144, -1.2857895063085008, 0.0017543581945350622, -0.5306548644903346, -1.1911465245735957, 0.3386161838931081, -0.1612118594973666, 0.5637173908824726, 1.2038283966000756, -0.02193671472106388, -0.9159158864784159, 0.17482219629226506, 0.9689261996052887, 0.19154274985797706, -1.6495229167310288, -0.5581416107328612, -1.144170739405638, -0.9777719041724139, 0.5794953035112765, 1.9796204152205108, -0.11759453956297038, 1.3422896783399225, -0.6181710177596361],
    [2.7000156805295337, 7.404632067706714, -7.839015229663728, 3.6632832118731926, -0.17959402579222475, -3.99843822314278, -0.1304946782316962, 3.763987080154032, -3.9492380519714443, 2.0563246705203237, -1.815138771985288, -0.6934411058733705, -3.616950750647373, 1.6218527006212773, 1.9021244627220741, -1.273856285855364, -0.5959775595017908, -0.062225514639017106, -0.15936509453135297, -1.2429875627674623, -1.6534674800950881, -1.1240521284959308, -1.249423195792587, 2.0811585172897806, 1.2614519761765903, -2.1512398041114635, -1.2890812095357094],
    [-0.06267870855792024, 1.7311468691276342, 0.5379271130104571, -1.0834357148973839, 0.6870540383467928, 0.30291109129790317, -0.46231765429388116, -1.588843571170971, -0.06172787919065851, 1.5370895327217045, -1.9638291405741555, -1.8705368941645417, 1.8144686196936153, -1.32851715415902, -1.395231980599598, -0.16745305970443122, 0.04422794974260913, 0.3880969944764756, -0.9627570751836568, -1.7391160187561285, 0.34495491878782936, -0.05212517179481101, -0.8164310442547995, -0.10753714493656519, -1.0861844048486862, 0.8939016253191566, 0.461251468937489],
    [-0.2981583180487631, 1.5675284952315065, -1.2571637359859744, -0.2767303367076713, 2.188404644582118, -0.661528895700705, -0.5703139683465598, -0.23023488118044724, -0.3003508981856408, -0.5517578594089815, 0.24613660535245815, -0.22768770435077545, -0.11309992874205908, 0.32670638074666764, -0.056255855870908734, -0.8038018725902726, 0.21279779571260649, 0.4680946636160455, -0.2822916301335155, -0.9028170374397095, -1.9581336839343422, 0.7522885522563877, -0.09611855081398948, 0.6825359208142823, -0.5278202981729425, 0.9114283045799461, -0.2310225512993824],
    [-0.6917862895276637, 10.969111137766824, -12.810444331233215, 1.0175912220385925, 11.135107366487313, -10.623395257823603, -1.6713012433695678, 9.53899094832691, -7.379220759465303, 1.0087421264979601, 10.126092744920253, -11.9956248564807, -5.168401192067552, 7.935252681953877, -4.009117764076107, 4.820655849934654, 3.069550748900871, -6.348754311726179, 1.2004961340516789, 11.235688489238214, -11.120307543797491, -6.038394214423806, 7.316188273881764, -1.4284206078483406, 3.8535317266950893, 1.9918435153697196, -6.44604697549789],
    [0.1839425092877383, 0.6787080827038054, 0.3586611386525956, 0.49388373903154603, -0.011212292011345432, -1.152174907624956, 0.9779723742080697, 1.7316301164711498, -2.147607509035447, 1.8452886897502208, -0.7563596030160887, -1.3189975425489977, -0.11060527271635026, -0.40664098261724785, 0.7483778130846155, 0.043652137529353124, -2.121256535657399, -1.0450373759933838, -1.0370954158772443, -1.598746100729343, -0.09610251207074838, -0.9751446023099621, 0.5555804349239993, -0.08737625355553941, -0.7613247216821211, -0.941629972935815, -0.661473840573267],
    [1.572306571806706, 1.9341673555374461, -3.1079122426623687, 0.5882831024524594, 1.3773577914538115, -3.7908367013753175, -0.6891775506715916, 1.570358984908278, -1.453092414831988, 0.47690898439042934, 1.0209716408532767, -1.9220490831022465, 0.5897186445749956, 0.1132939997223934, -0.5072498657152255, 1.079905628605855, -0.3324634481430383, 0.44680075290586585, 0.08472414626973884, 1.6444589764811126, -1.0238429031642389, 0.7887540421363832, -0.6008344794882114, -1.3012718869216797, 0.6174737607489555, -0.9049318285555342, 0.05128419547903706],
    [2.2115636558437965, 8.802911291071135, -9.944014657327793, -1.6916331152119448, -2.2844277625085043, 1.4761077922372827, 2.449798080939014, -0.692666027282124, -0.3996988939579369, 1.4633618948484168, 3.2972147894262025, -5.906741201886574, 1.5158034555892423, -2.217857009085713, -0.20704707778046155, -0.19539543090917116, -2.0756444322192698, 0.8025181106078667, -0.48195109538006686, 3.6976767744463688, -3.925639922366747, -1.2396693062092576, 0.3804747454443145, 2.1217867495184195, -2.2891675224963177, -0.5680316107721132, 2.660171063079975],
    [1.726116514946342, 3.7819324695978147, -7.418150823218096, 1.549772475715653, 3.85100863834238, -4.278451789475489, 1.3129391107904849, 2.8629881829151094, -6.523255321904298, 5.773849352671416, -1.684122130277729, 1.0681376285192234, 3.5169887109393914, -6.503359339005884, -1.2222562799433567, 1.5014916711842954, -4.162870130425903, 1.8329208363763851, -6.791371583760928, 2.5212988395914397, 1.5371996449998186, -3.724207834200766, -0.1232891030429364, 4.779690689433256, -6.493473438683871, 1.9158553111350125, 7.209805278989439],
    [0.09577083171170994, 12.473482280062562, -12.946948593026802, 2.2019740086050708, 10.860613525668013, -9.910627586793161, -2.7863382713714744, 10.109318513829281, -8.46565197322329, 1.950465010239858, 10.90497204186969, -13.344526273661321, -5.26709146950196, 7.4033972157195045, -3.781455476392996, 4.0536825660969855, 2.4295463503614747, -7.51369098753719, 0.19482644357623297, 11.528929806389637, -10.835542892089123, -6.751672066153584, 6.786022891025446, -2.485500431867423, 3.840966646519526, 2.2639183744234264, -6.829605209867734],
    [-0.9901850024902388, -2.5007510803991844, 1.7537758152931615, 1.957980929190524, 0.46320551675175425, -1.5302031099343423, -0.7470959597903102, 0.5224597948060727, -0.33232585474251924, 1.0647053281572916, -0.07813786986645407, 0.3915095907237802, 1.2213605471698477, 0.1922580539205345, 0.07112091388381843, -0.2285660278021274, 0.3014301403493865, 0.9729829391129252, -1.0456128779219065, 0.27068630266274724, 0.7650423691940222, 0.7055274116360792, 0.1530790095258413, 0.3836658247874929, 0.3052120583242936, -0.5137761796988047, -0.8179771201663364],
    [0.28477775904020886, 1.487214935498434, 0.6579475363871351, -0.29432169010315323, 0.9107707230365657, 0.5901302285448656, 0.3570754590119561, -0.5165297702727918, -1.4269756572136059, -0.1905149642417031, -0.7092724689586584, -0.23900912924943565, -0.5326266539162977, 0.228056719200771, -0.358391024324239, -0.45379883889420053, 0.1982522140460242, -0.4052348996256991, -0.6702770410315972, -0.42116823230267464, 0.31445391834476755, -0.12197393812905437, -1.376117607477239, 0.8104902393242878, 0.7785308291082661, -0.6383729144813155, 0.24369820096579756],
    [-0.5512320216195405, -0.7743465707990654, -0.7343259761878977, -0.5066172909863382, 0.8835480116746957, 0.23084838094515372, 0.07750472455062107, -1.1720302486091576, -0.9398647016898741, 0.6553314444743311, 0.4422889383825754, -1.0426030792978995, -0.03679789994218313, -0.5842653797854545, 0.005453566216618631, -0.7730008477191767, -0.2055043554562939, -0.2507406956368679, -1.396808904835478, -1.2868633295837586, -0.0033868271212523105, -0.6544742993010961, -0.9569139362324631, -0.11440728548099063, 0.5659606314510528, 0.6912581686959223, -1.223661714928581],
    [-0.7491186280868948, 0.3359298351854714, -0.6831648158066636, 0.563024800836502, 0.4549477767889129, -1.951706916424002, 0.36805568819026807, 1.404812617032465, -0.5856806200569167, 0.6395909866188698, -0.5227034253035555, -0.44516938911736986, 0.7079783212493492, 0.49150988636667015, 0.007829473443977624, 0.8041475636927289, -0.8134606710095051, -0.7227701941166608, -0.04088540363501262, 0.663446913901834, 0.3041930717556124, -1.7469824881454354, -0.2980742544382061, 1.2044881112143906, -0.04503307157713498, -1.0855981802452115, -0.6530310062958657],
    [2.86407670704941, 1.7511186637518301, 0.45038690942859266, -0.38704622149098694, 3.1365797539343383, -1.5061680696865438, 2.5166482884822106, 0.3531730615976403, -2.459359070619555, 8.957628055750623, 1.6899008483024864, 3.3475264510378917, -2.1708872437529294, -3.9171573113605, 0.8885789430832735, -2.3037735900560037, -2.5858264930411625, -1.1394035856269298, -8.218447518263547, -6.6180078084115825, -4.722324026269759, 0.9069389155462733, 0.2911112649223731, 0.6147424592586498, -0.5303518221309836, 1.2164125752184127, 3.196719752821328],
    [0.42565968430570306, 0.46636723592258644, 0.053265249350032434, -0.17132044363156865, 1.2348293356470967, -1.9705457606759875, 0.887488204647089, 1.012380853287546, -1.9321582757253202, 0.9026086875514892, 0.9021042154108232, -0.34820502833590605, 0.08128198917847965, 0.8470425123246222, 0.05618147234941718, -0.08706656504273412, -0.6163446363198262, 0.7920617127908681, -0.8633015948834237, -1.1082792479404249, 0.14381584443607845, -0.7529025235970459, -0.12404290491523429, -0.35331459006165594, -0.8725563750330279, -0.21967736417501535, -0.6711604429066274],
    [0.032849688236160184, 0.318267069793583, 0.02010353220999433, 1.0116641521300551, -0.7600790368574016, -0.2848022230773939, -0.014962090363964021, 0.4269299852397629, -0.8394419547690312, 0.5831260439211249, 0.3368752584391, -0.5640809011830048, 0.8025488877848503, -0.881067515811472, 0.2332910045806505, -0.3923358731798338, -1.4783164558748112, -0.1700334160456128, -1.8831488943819423, -0.324521295716308, 0.31736887927639434, -0.7802063573417104, -1.553009909400909, 0.35159376393240815, 1.2277678804285743, -0.9105046265579058, -0.4213435327961357],
    [0.09103304892982536, 0.8835461444750708, 0.7677906832873993, 0.01137340372922616, 0.6822233832677971, 0.20102068225604025, -0.22734771254786637, 0.27515106530262723, 0.10204576073214974, -1.4674129032412015, 0.43536884814540344, 0.4552450547170609, 0.5112465013543231, 1.3089605933817123, 0.8791408923937611, -0.9696793268519377, 0.1571900113727709, 0.6136869205082305, -0.4298180071143666, -0.260600169579301, -0.33559756571498445, -0.8161682161293693, -0.67522213982669, -0.8430872477015514, -0.7203555795941132, -0.06180252067235463, -1.161025141320042],
    [-0.12704906922782183, 0.8665322572130342, 0.41725036846176383, 0.24008081329561265, -0.6150962974286064, -1.3370521114069371, 0.09382951185653796, -0.3917006340297447, -1.442012852817981, 0.6057143577620875, 0.35442887063780765, -0.9834467375033704, -0.34436481742253017, -0.062183822644075515, -0.9718064080210925, 0.08139484500914976, 0.09294345065049275, 0.7105528107647376, -0.5198586243921972, 0.30122181732035797, -0.8719970180947225, -0.16927553464293116, 0.03482237754306781, 0.3609611633903057, -0.8628446618689602, 0.038576967175548836, -1.5854715258351537],
    [0.20496579108568655, -0.23689747725535826, -0.26763309242811373, -0.6101216232552613, 0.5033419212313356, -0.12398751080076369, -0.01175574490713133, -0.7343999235145445, -1.1162086502122777, 0.3446077478431229, -0.2649868323100943, -0.7449761601450269, 0.22692726721573114, -0.25773492632148465, -0.7973888948862556, 0.23819781082910307, 0.8747019995536173, -0.35810104698645284, -0.7506433589647925, 0.44087713164856246, -0.2010762860736115, -0.7676112410536428, -0.23626924871654384, 0.8046881392722379, -0.08803391470333588, 0.002024591195598949, 0.22105631754110835],
    [0.20583831490300275, 0.4993681506413062, 1.8470915114330404, 1.4618803994169167, 0.5693827329203642, 0.4023660383057127, -0.774590575149854, 0.8205869006609913, -0.4841050078595419, 1.888260493866139, 2.1284015702190824, 1.653310214944823, 0.974019490401039, -0.1558375460034847, 0.6646266228667592, 2.144675902892019, -0.10407130968430328, 0.08317085779967807, -2.862423929900095, -2.1064213431164127, -0.5290244071159221, -3.5096744644520115, 0.3500301160123886, 0.04063233295432078, -3.208989446956792, -0.7332920958770291, -1.3222270144344885],
    [1.2536733125122448, 2.3070363189447893, -2.8304031337268714, 1.7556195532094026, 0.11299079018508881, -3.4445567899987717, -0.5933275343811402, 1.912216177062742, -2.634319436826074, 0.27984404648727285, 0.36025938271920743, -1.135690326686093, -0.2976762804413646, -0.16847269750343002, 0.5420216810844436, 0.2313237234913212, 0.20974047031430687, -0.544463717944823, 2.006013684785643, 1.303809977302716, -1.3523869946954428, 0.25626038540084123, 0.5231217306542482, -0.8670006523838317, 0.6756784366282833, -0.8019625972472001, -0.6803962049950567],
    [-0.3622226496633597, -0.692549997646424, 0.6784326362131803, 0.8037609099937453, 0.5999895966497444, 0.49260535982222614, -1.020774638215331, 0.2853442027754369, 0.7598980092221844, -0.18455289595957153, -0.6124379165514487, -0.6849737333548751, 0.39163425814207375, 1.2201624703952143, 0.3028161604227565, 0.9172951408438061, -0.5891051896109368, -1.4272951905760314, -0.5094833939089868, -1.2791034093698326, -0.17415196391864723, -0.6133925344038129, -0.020295572911239936, -0.127129793863747, -1.066361424239378, 0.6690633798662691, -0.9626089579565669],
    [0.5775251893151053, -0.18908507729653604, -0.41151704416868823, 0.2347921921010819, -0.03464638964561422, -0.9479974242780873, -0.1728082574597052, 0.005713983154753325, -0.027988759869935317, 1.1710372111464808, -0.43865570029772666, -0.5545942444425717, -0.036252415539087306, 0.47247972134500965, 0.9674398320008265, -1.1168838195007076, -0.14543311208166912, 0.2476620334785765, 0.3677334786612602, -0.7723383657741798, -0.6261521943006214, -0.410639552332433, -0.1792638747719502, -0.5337952425381243, -0.8364438238808292, 0.16846946481814876, -0.6822937201011343],
    [-0.9027353255312147, -0.989557749204558, 0.326628786942895, 0.10027488775648538, -1.3228588485486696, -0.15483728025638788, -0.42132732549589424, 0.049747652881981796, -0.93247030850326, 0.5024550694858103, -0.36138822757358624, -0.6806811809321889, 0.7859838660342868, 0.5659990617188697, -1.015273807577149, 0.10124044028077026, 0.9407501825346225, -0.37148552384753564, 0.28101145176268166, 0.20711278973281017, 1.0124541567804044, -0.8461858096737682, 0.7688974903154462, 0.5260004800552819, -0.16239098961177165, 0.3867751990814663, -0.4634259249040975],
    [-0.18732472558695779, 0.03318151233594876, -0.1875926194768019, 0.03786867611048189, -0.5389136306416522, 0.3910372271343491, 0.47934350812746535, 1.3966274124788858, 0.3090821059410463, 0.6099953466064696, -0.3677518498039971, -0.5490654116056294, 0.7678906205902291, -0.2765701818323383, -1.1864540992920714, -0.8013160203562911, -1.4677895890395294, -0.4018852563679743, 0.5254489769205586, 0.3948274060346064, 0.581951590485871, -0.5804069994542255, 1.4226558078026614, 0.4120576885787016, -0.9473627429784962, -0.7942957775451687, 0.030496084683156698],
    [0.8458828489625148, 1.346793016504133, 0.05723461647861374, -0.8655696053371558, -1.1940939267925814, -1.216221591703198, 0.18308537235013245, 0.46354452806006274, -0.13703221306192714, 0.5659564956442129, 0.6481756533830016, -1.485612457088788, -0.07408252258554712, 1.3083351869329813, 0.9156991929423685, 1.6213266810172613, -1.1004250922810839, -0.11973370841283588, -0.9974433151558899, 0.21369913641637853, 1.2842714302014984, -0.6275341311920545, 0.7405348586370404, 0.7906184250548924, -0.8616043311648571, -0.1495941352327493, -0.13960696314737828]
]

WHITE_WEIGHT = [
    [3.663174881089161, -7.765125712371109, 13.609483373186979, 5.849258599798056, -15.311881680953194, 14.696431331488316, -0.9055239476847098, -25.115156353728803, 13.877746692537052, 3.3554642095325637, -7.756855376938207, 5.379725755932632, -4.750538027628417, -8.532553428039261, 0.381970076865637, -23.997505814635186, 12.054673682995922, 12.223221211306864, 9.83063623760503, -12.662922771295985, -5.829611872303826, -5.9476503465872455, -2.754036251975197, 13.582745629354045, 1.0056029909675013, -5.699255996655585, 14.21182095582133],
    [-0.6345437049046623, 8.145475864144954, 2.3146647450255986, -0.2851286966601238, -6.758707616057799, 8.519759725588465, 3.5593771314140983, -15.416115891787737, 1.5443152123677915, -0.399422043530507, -0.284926819566141, 2.858050503223554, -7.2476696639228395, -6.935950405804322, 0.7519605531609416, -24.650554220163094, 23.225658405508366, 1.9843484124355175, 9.193472126378733, -0.2543527706453463, -17.652446344960914, 8.889841629555734, 2.4443499823330246, -11.911564166864517, 13.021345615140989, -2.222849166510566, 7.8158580789490495],
    [-2.745475676782393, -35.2856417338925, 38.12128147482943, -2.1964986123137127, -23.9604765130354, 26.08567550922312, -3.7836443941246167, -25.16672085329035, 21.663627705094928, -0.008590259174201604, -6.221234389244445, 7.902986412507076, 1.6604574756345805, -0.5441298192865817, -4.56579577551655, -8.510490772372748, 12.192381732763907, -0.6084083138009465, -0.44535777199368726, -5.031707332299552, 2.837171430223851, 9.005358417479078, 1.7150534156542423, -10.433073676235066, -6.675382315641112, 7.406870556247809, 0.6192602161129575],
    [-0.4149493349284622, -1.3229237782794305, -1.166537537051165, 2.439780579653625, -3.646115484018039, 2.185979405980214, -1.1756284421098648, -2.6622337498888067, 0.19037250426787125, 0.11991227226884126, 0.9710371318767717, -1.9625364465492952, -0.7236835362281568, -2.0335876667927875, -0.44539643362257597, 0.4169038115582399, 0.3102246868623348, -0.24364037196516622, 0.4663166697589073, 1.1550417382744393, -4.9293986623613, -0.07942424488231369, 0.9898697885431037, 0.36288766637211584, -0.08205793517878326, 1.6388657976461156, -1.0036833346961278],
    [-1.000704212609957, 0.2267068603015172, -1.3195395781166106, 1.9062185076147502, -1.0682188844855012, 2.490960022432579, 0.6264954100850793, -0.8325646550451632, -1.5266477307219581, 0.6230654810644993, 0.2825039869899368, 0.6964328557282432, -3.5619569248046394, -1.0032091400426522, -0.8216821616149683, -2.5664487921535444, 0.8097894203960916, 0.9309677900255601, -0.6944025043311821, 0.31349046387053336, -1.7198162956779015, 0.8933842906148589, 0.5116209728448406, -2.2693300223487842, 0.198519513991691, 0.832050799319239, 0.2583294571050383],
    [2.4335005293500513, 3.297866851981622, -7.70001226856042, 6.109714515201803, -9.191072539706578, 7.353459838299524, -4.1625264602061876, -5.295586172795137, 7.6504113193825605, -1.532865620398102, 7.1923362757786595, -11.083745193395488, 3.2980451079764115, -4.402735503067866, 2.2766498957041272, -1.013774977909661, 0.7939092269090309, 0.8536123979452168, 2.8709240870522117, 8.315431720208966, -8.035384374684837, 0.17542023466860945, -1.9515916348521705, 0.7629324184751093, -2.8858906160750384, -0.8565568000894198, 4.948805922576263],
    [-0.3490165705221238, 2.9968305048256205, -2.415645891511972, 0.9564962617319619, 1.2239610982854552, -1.432804590981477, 1.7194623995934433, -0.5471618635216309, -0.2379931522933642, -0.8509430989436662, 0.5631073869190963, -0.5300799721907947, -1.7136512238864234, -0.4140754692719903, 2.632076827859505, 1.0547949983516163, -1.5032531893863, -0.015406044261578648, 0.040264549142823805, 0.16922731007415234, -0.8299748188508976, -1.8911774244747637, 0.23984414843305077, 1.8752271650551693, 1.4717162025517387, -1.2834276422705506, 0.486529555725736],
    [0.6152169717413858, 0.9741884271402399, -0.06323671272620439, 0.12084570820044317, -2.196205690032688, 0.35652138039269954, 0.6010516485097478, -0.4300393540972691, 1.0483217682441803, -0.7559419882168179, -1.055530100626978, 0.7329468594723, -1.405768089399338, 0.6779634931475502, 1.1542318294760994, -1.829498338314866, 0.2587041847261747, -0.21379598769009886, 0.9748285371642834, 1.01568456050704, -0.24939755891762433, -0.3864274700162431, -0.4379910108440366, -0.49080629279041876, -0.8116172350931573, -0.20923082505443524, 0.20166282523185555],
    [1.7219050329836028, -6.66732345320481, 5.74148051152173, -1.4974495379884667, -4.2763680640084045, 5.598488370907647, -0.21736635517999872, -2.1105519377563535, -0.6883276557821112, -0.9718780978850848, -1.3783578764537225, -1.1397608000367272, 3.072221192687332, -1.8725359584174706, -0.6141997531920111, -0.2443777694086349, 3.167201015077144, -2.4067891373372725, 1.502112682755027, -1.1010802991445348, -0.2813707779483699, 0.35275662240124883, -0.20461984357468518, 0.7657565042301827, -2.264605920457806, 1.5702867168174468, 0.9639528384173194],
    [1.0354070530663677, -1.763756412088425, -2.0336731861435355, 1.638839073716411, -0.8392826666275267, -0.8743729715996725, -0.29469593414132594, 1.2171039011241356, 0.2784462727864873, -2.408251148437093, -0.01699923433323225, 2.1427656769195402, -3.324959235765002, 0.4744764587945688, 1.1001087029178842, -1.7599165184967736, 0.9563461984906099, -0.5019809665015466, 0.5483403087315892, 0.6849687884061989, -0.4230474924496132, -1.3814486378990072, 0.3306852637216532, -0.6555874337643769, 0.0053219688402018715, -1.1048823032808668, -0.8692345482283991],
    [-0.30772315475565487, -1.2127563577586216, 0.2109583972474956, 0.15238288518273196, -1.7579042447625413, 0.6670752799085908, 1.3618249249185383, 0.3031939263926886, 0.11543639427876012, -0.04412773952737, -0.9821764385886868, 1.0197996034452237, -0.6344904804099968, 1.5035345949058292, 0.17549007534885866, 0.8100679069118397, 1.2929435632866535, -1.7530118636870777, -0.9454581660602147, 0.46285661198757583, 0.4241668918536419, -0.6004808129378684, 0.7198032833940692, 0.19643960351930562, 0.49191881077710664, -0.42053939122014355, -0.7058328068426458],
    [-1.7144178092613571, -13.937086970829, 14.37329824169394, -2.7675635510668353, -9.725025839682356, 11.879670039014709, -0.35502645600284305, -9.233659360078258, 10.165209386393046, -3.4491866174467174, -9.506816211049586, 12.851952245790054, 4.032803642522991, -6.911657722179898, 4.225305624586459, -6.9257628569773795, -2.558597949031846, 7.95690829416976, -2.512796331836954, -12.275715004655435, 12.933543694453311, 4.378638092768333, -7.440560406200888, 3.669192717494184, -4.689398901356136, -1.8651649282962182, 8.820988827677349],
    [-0.02596400204353288, 0.008990849263723196, 0.4239769276269354, 0.17344525355893112, -1.596372297053466, 1.1750333504008188, -0.09468834502190077, -1.9967662682201586, 0.805711908235786, -1.375700700321405, -0.03355580014252832, -0.43469553078729306, 1.3167385377498613, -0.18283531981104512, -0.612034170798964, 0.32402448772814507, 0.6420933684065527, -0.16176347447436712, 1.514189459587693, -0.17203378648199197, -1.7965859694270507, 0.04098672253805252, -1.1669106454681073, -1.7904595467555389, 0.8323271588849612, -0.28154045066995403, 0.09337443681622047],
    [-0.18787792459660518, -2.892993672196092, 1.0404027990609155, -1.928199412621466, -2.193385092936707, 1.9516469934114256, 0.42762695985547255, -3.553605301544594, 1.4700482275441922, 0.35924875960177355, -1.5738210874122522, 2.0183182028582722, -0.042927365089794396, -1.0188760450744692, -1.2265508954555, 0.5819312433721074, -0.7467056200067319, -0.724899252036897, -0.03339024194846492, -1.3381471542491916, -0.4795541503508456, 1.707018829861162, 0.575568140055226, -0.06189869051103669, 0.3349707510253381, 0.4332350067279224, -0.4542341557291232],
    [0.9836604772102584, -8.654477282492595, 7.145087529683833, 1.8478363006879706, -0.9370637220652277, -0.1045861147325977, -0.7148144665065149, 1.5110865274046779, -2.165074753243697, -1.7243432930920912, -5.144298495119815, 5.543597609352545, -2.7790036262126074, 0.033202164744388835, 0.28359894822059684, -2.3062014810584945, 1.6069582110153167, 0.7396639703171601, 0.6422428772010893, -4.628321440663102, 2.658938721990447, 2.2734185962676916, 1.1074707956239296, -0.85524944241676, 2.4857956027613666, 1.594234364114611, -3.287381271057597],
    [1.9017144128490382, -4.236528556683308, 6.047533676797457, 0.7210942871307187, -6.358223301729231, 2.951221355653538, 0.562112267664744, -3.399058410060868, 3.765574843650839, -5.373297570898694, -0.023268378482853166, -0.5003222740957606, -6.025831004971632, 6.223360604927969, 1.7955750312585568, -3.8015443584430537, 3.3138207289873183, -1.2556913147545765, 6.289621067595061, -0.06029726071328446, -2.1088390361359544, 4.139469967042135, 1.7762892598462339, -5.974132708027032, 5.523988276383737, -1.3729055801338974, -7.951589774982022],
    [-2.460033119824625, -14.025544902010964, 14.374656757995721, -2.7900715116508104, -9.05720064611689, 11.824651887546516, -0.5965139055699977, -9.214141287953447, 11.553711554131242, -2.993958577403235, -10.531001579115259, 13.39569420695898, 3.207515546818347, -8.29419376054809, 3.0839662714415317, -7.584253728898985, -2.162402476212714, 7.648447992899592, -1.8082753605125432, -12.294896002470132, 13.359300362135775, 5.665940858424142, -6.804589870337237, 3.146758527021273, -5.017056588180362, -2.0006517272214928, 8.558345632245294],
    [1.2800595581591714, 2.588160301089287, -2.9583903359497192, -1.8131321928707835, -0.21425395798651137, 1.1643573610544182, 2.1698000345105513, -0.426643694693523, -0.7163672250990105, -0.40030768776136705, -0.7142018834109591, -0.17187587812206123, -1.2491774974824952, 0.10438287998696504, 0.7872519655751755, 1.4370884289685075, 0.6195039473939981, -0.6645740003264599, 0.8455158078017861, 0.07628756072706705, -1.0436388057595285, -0.8512177998715849, -0.18304683487572154, -0.5023038703241085, 1.135608835526781, 0.6090293430580134, 0.5496238885402173],
    [-1.0180983146580092, 0.10705197644265725, 0.906751232797461, 0.49480757503574624, -0.3842927735222495, -0.4039027744411314, -0.2997351398426277, 0.26220202853886415, 0.7375314335453841, -0.027638285910803986, 0.5831959678411266, 1.5886786143942122, 0.44327788763677217, -0.012730901656611024, -1.7180487664529247, -0.8991865011506313, 1.3074669911324446, -1.2183738110889042, 0.7684411186836314, 0.45230307269754966, 0.1866351368647168, -0.5398432661840976, 0.19651415920009627, -1.1123657339771524, 0.19025430320964345, 0.4779375163529537, 0.4001767475433786],
    [0.7563300361463828, -0.8892035507570026, -0.4811140879012563, -0.12266839172648748, 0.5253224846796161, -0.564497183423679, 0.795186981280181, -0.5780887406074644, 0.8280034786399151, -0.8142673507886339, -0.7042486226197683, -0.9063959603485477, -0.5102832928591428, -0.2310432282156718, 0.3037562368011648, 0.36881328913173017, -0.42857079790471914, 0.6421520159454069, -0.4711936860747618, 0.4573883035519623, -0.2483627306800701, 0.32675164088713493, 0.6722873223020869, 0.30903352707362197, 0.31649162027099714, -1.094059147053651, 0.23597709983293713],
    [-0.2610180283297314, -1.4737986627767021, 0.31354447337186625, -0.49507060482789866, -0.5375408150784904, -0.057859953370092504, -0.18741226578132947, -2.109068087186402, 0.6254815823288057, -0.7065766438860421, -1.1527950348808038, -0.08608478731534927, -0.35983211863457043, -0.5112285217228034, -0.030247345605710668, -1.6373727163241474, 0.08092842721454198, 1.2389271212571855, 1.2155566135833638, -0.3567067917841732, -1.3226353508010704, 0.5189326641303759, -1.4738598032379857, -2.0530887356026586, -0.9294980314119518, 0.20308805388162843, -0.6740826586407946],
    [1.6374042758115985, -1.5625725828030106, 0.5873840503446139, 1.8142804148085099, -2.015803423015547, 0.3407203905395312, -1.9768715857509058, -1.2301275865784163, 0.9342941955116567, -7.683054829555345, -4.961077176822376, -5.4356235997830264, -2.0959438682367884, 1.5369698980763868, 2.0036175519233956, 1.1433068928953087, 1.7139500801778242, 1.3977002392626758, 7.527887152403942, 5.306139276325387, 3.4639618533196277, -1.6959981147773324, 1.360289211917755, -1.399522673647105, -1.8797828784689086, 0.41544967935304233, -4.518607983389498],
    [0.644191161121485, -1.4309741925438453, -0.12088204588929563, 0.546775038683839, -1.6430719920964196, 0.5082284328915101, -0.033017273924596365, -0.921029694557688, 1.5122040670357697, -0.011510975793271282, -0.6697695978461817, -0.5083777146859934, 0.32726933831348587, -1.5403502700756195, -0.41836706673571594, 0.812585515648235, 0.7295148449211969, -0.5129054619413485, 2.187484979417755, 0.1705083286545225, -0.517431658962398, 1.1660709992104963, 0.2813658330937552, -0.9603915581514939, 1.3131194068391137, -0.18421631985445397, -0.8633929483854048],
    [-0.1550362599428093, -0.073187600670839, 0.2070499209883301, -0.17457690288383373, -0.286724317920564, 0.1921133992026888, -0.2420199507852175, 0.4171886023362783, 0.7496809756933122, -0.9983414820653821, 0.6437080861603995, 0.7214401871605227, 0.5336163728209932, -0.12849761184814748, -1.1919712342221838, -0.6820134047963957, 0.8249217180463398, -1.1221376907688847, -0.5836451012864688, 1.3124249021233354, 0.27034430078125277, 0.2427022925333995, 1.1624665700281143, -0.4920050955488791, -0.33206695379119794, 0.6046926702057623, -0.48190594785554075],
    [-0.9465948145330445, -2.1121339242443917, -1.510665186584112, -0.20177029409757122, -0.4934349574655217, 0.6628155147028181, 0.45224250266144383, -0.004703916296091517, 0.21064927853326587, 0.4524600223797052, 0.5092245985584085, -0.08383371731057801, 0.09386197143243774, -0.3540212074083391, -0.48535981627936436, 0.18335163903523694, 0.23189893208382772, -1.195899270019781, -0.6718982313888615, -0.3043654862856698, -0.5584795396874787, -0.15143361168692704, 0.16657529396414728, -0.05048843774760474, -0.4240201597333151, -0.3362685768901389, 0.252169466039096],
    [-0.40124469606100355, -0.806147566959161, 0.19063866494713969, -0.8085449616050673, -1.3238491527645386, 1.0468026226730527, -0.34038451533226566, 0.017469062818369293, -0.6287964118563539, -1.4060703432648922, -1.0050087934444336, -0.10146306902248806, 0.21087870026571853, -1.1553513973480065, -0.808259247834796, 0.10567672089326455, 0.48201857042161245, -1.4559998338617202, 0.7664077524183605, 0.8739058942485518, -0.4690772673419781, 0.16928005652480027, 0.7346401083941309, -1.026818802798686, 0.6403637020579921, -1.2708810062436793, -0.05307765730947319],
    [-0.43088301134097645, 0.049925781106367424, -0.4192156510701325, -0.6933343807897924, -0.6105632020608713, 0.4553828726681292, 0.5719265944047024, -0.9998176288129661, 0.5745315519736505, 0.3829661235871718, -0.5420579201735335, 1.1964823478868343, -0.23658193449229734, -1.4307870350958922, -0.11542918100526378, -0.447246649864987, -0.09793575946372211, -1.5497994263763784, 0.005013911290768556, 0.23165007450697617, -0.6528620976473437, 0.017802151159083623, 0.027212557284043815, 0.2774857687579665, 0.9318716350343356, -0.08025045452312544, 0.03505073651940197],
    [0.06033864660307095, 1.8574843299116885, -0.33392746284536573, -0.5781061868603355, -0.40867399359897866, -0.05750197450242921, 0.17631947351671987, -0.41550677088471405, 0.3556060189671023, -3.50538419185436, -1.4604475752687103, -0.13538731732934312, -1.7291709866162768, -0.7015372623222803, 0.004578835404660157, -2.007022689480301, -0.443027482876733, 0.3729281996716561, 1.7231557617208977, 1.6222472780743085, 0.23148286140115432, 0.8637899582773317, -0.30223122816822245, -0.5867351235528047, 1.748610379128262, 1.0135408546969775, -0.8120743964216864],
    [0.4751271956439839, -2.674712170203159, 2.051537224612321, -0.8127289317942797, -2.1737977173301, 2.3238222584394252, 0.04268797691566792, -3.2867976348838432, 1.441603756085856, 1.1180298414764493, -2.6217833578712444, 0.6202899233706904, 0.20528405942112915, -0.4197143625954771, -1.6334752538358903, -0.27301786517546184, -0.012898162645546603, 0.5686414193586978, 0.7237589425494725, -0.4860882572215369, -0.01916058119739466, -0.1344581858995509, 0.45492132027346754, -0.7843659153126419, 0.07435247181596313, 0.8154573125723023, -0.34185684686265233],
    [-0.12294993914523271, 0.69733431274839, -0.2247423747169086, -0.11019898307518898, -0.20888580142803723, -0.4703807105357482, -0.24665899814341372, 0.2579146119624292, 0.5801162089679464, 0.08451325237263221, -0.7726676066060808, -0.7356375989085043, -0.32513172619607456, 0.33510758107868155, -0.09847037411011868, -0.9350547689278849, -0.5239027434617941, 0.17864260813488494, 0.22416810926401146, 0.43768498669057276, 0.18463833774222926, 0.32464809171293935, 0.08290211958432178, -0.3316700868094347, 0.8768266683697805, 0.08883830647085705, 0.6550012645998545],
    [0.4184686406084388, -0.0658277613821469, -0.6452548097242391, -0.25087315719922704, -1.2314630914327578, 0.4139882273858991, 1.1512140008795355, 0.17394984802730742, 0.8649146336168253, -1.5854858626408466, -0.05826967946811519, 1.1217565840307022, -0.39138110865125747, -0.718083594881924, 0.136656623056468, 0.7116186381980149, 0.23812014918955776, -0.10403091279321862, -0.27355071213182724, -0.3256766579837771, -0.270495978961004, -0.3513790781889246, -1.07436322351787, 0.37104175485147517, 0.7680453350013617, 0.3608284123888274, -0.3944668621762297],
    [0.10672468081423882, 0.3171066622530713, 0.45264668879613357, -0.29979931518311487, 0.4691290647370866, 0.2139055876830123, 0.5379082273846305, 1.039118033753649, 0.18051564259288538, -0.427611136610878, -1.0494447584340154, 0.6275390197873558, -0.0488203818345557, 0.7180935692639946, -0.025574136005063267, -1.3535359004016434, -0.10041722853426174, 0.4073436264165986, -0.9176039041933066, -1.6704987383488201, -0.9498630858811062, 0.8741360848820037, -0.9115980173033953, -0.11146951785789067, 0.14919858924786256, -0.10437407854657002, 1.0028804381212646],
    [-0.1539554661215533, 0.2779525923755271, -0.11590219827435261, -0.5216261916459591, -1.1557205804748771, -0.7172224126454135, 0.3364959649031791, -1.3302241883749362, 0.3157275672335192, 0.19976593220363553, 0.38033805009835703, 1.2225223684518831, 0.12370064600604698, -1.6297351906619648, 1.1813434385618011, -0.8753374455896357, 0.21535339047783406, 0.8805938589213446, -0.2841093024624338, 0.7070612632255397, -1.2487890315471697, -0.37229100568250834, -0.697062588691868, -0.505030697611767, -0.4118939109925533, 0.24976671217012925, -0.412823132403687],
    [0.010925986987981246, -0.3091404630550558, 0.6782240936039532, -0.5864246492453553, 0.5896975546507859, 1.309921867657302, -0.7894408874075206, -0.5546005251981964, 0.4835812295864765, -1.2467262339642193, -0.537346194723884, 1.194534433358363, -0.9688907678742342, -1.1949786348195794, 0.305234404507709, -1.0608961928063159, -1.0622699636475372, -0.2907908810594404, 0.2128613450197934, 0.42892804963781905, -1.307362392515807, 0.6511722460785396, -0.9405017676820939, -1.286478651188975, 0.40594596460488896, -0.15141420558496976, -0.42851701258339586]
]


# 從 pos 開始，把 n 個座標視為一個 tuple
# n 決定 tuple 長度
# d 決定 tuple 衍生方向
# 回傳 list (整個 tuple 的所有座標)
def gen_tuple(pos=[0, 0], n=0, d=SOUTH):
    tup_list = []
    for t in range(n):
        tup_list.append(pos[:])
        pos[0] += d[0]
        pos[1] += d[1]
    return tup_list


# all-3 tuple customize version
def all_3_custom():
    ALL_N_TUPLE = 3
    
    tup_node = [ [] for i in range(4)] # row 0-3
    tup_node[0] = [[x,0] for x in range(1,3)] # 1 2
    tup_node[1] = [[x,1] for x in range(3)] # 0 1 2
    tup_node[2] = [[x,2] for x in range(3)]
    tup_node[3] = [[x,3] for x in range(3)]
    
    tuple_list = []
    for node in tup_node:
        for n in node:
            tuple_list.append(gen_tuple(n, ALL_N_TUPLE, SOUTH))
            
    tup_node[0] = [[x,0] for x in range(1,6)] # 1-5
    tup_node[1] = [[x,1] for x in range(0,6)] # 0~5 
    tup_node[2] = [[x,2] for x in range(0,6)] # 0~5 
    tup_node[3] = [[x,3] for x in range(0,6)] # 0~5 
    
    for node in tup_node:
        for n in node:
            tuple_list.append(gen_tuple(n, ALL_N_TUPLE, SOUTHEAST))
        
    return tuple_list, ALL_N_TUPLE


# reinforcement learning with n-tuple network
class agent():
    def __init__(self):
        pass

    def load_network(self):
        self.black_weight = BLACK_WEIGHT
        self.white_weight = WHITE_WEIGHT

    def set_tuple(self, tuple_list, tuple_size):
        self.tuple_list = tuple_list
        self.load_network()

    def GetStep(self, board, is_black):
        # n tuple network
        self.board = (board)
        self.is_black = is_black
        
        moves = self.get_valid_moves(is_black)
        if moves:
            (max_val, step) = (None, moves[0])
            for m in moves:
                self.board = deepcopy(board)
                self.board = self.set_and_flip(m, is_black)
                val = self.value(self.board)
                if max_val is None:
                    max_val = val
                    step = m
                elif val > max_val:
                    max_val = val
                    step = m
        else:
            return None
        return step

    def value(self, board):
        val = 0
        tmp = deepcopy(board)

        # 旋轉盤面 4 次的 symmetric tuple
        for loop in range(4):
            # 水平面翻轉
            flip_board = tmp[::-1]
            
            for idx in range(len(self.tuple_list)):
                tup = self.tuple_list[idx]
                key1 = 0
                key2 = 0
                fv = 1
                for node in tup:
                    key1 += (fv * tmp[node[0]][node[1]])
                    key2 += (fv * flip_board[node[0]][node[1]])
                    fv *= 3
                # 通過 key 取得 weight
                if self.is_black:
                    val += self.black_weight[idx][key1]
                    val += self.black_weight[idx][key2]
                else:
                    val += self.white_weight[idx][key1]
                    val += self.white_weight[idx][key2]
            # 旋轉 clockwise 90°
            tmp = [list(r) for r in zip(*tmp[::-1])]
        return val

    # return set of possible moves
    def get_valid_moves(self, is_black):
        moves = []
        for row in range(HEIGHT):
            for col in range(WIDTH):
                if self.is_legal_move([row, col], is_black):
                    moves.append([row, col])
        return moves

    def is_legal_move(self, step, is_black):
        # determine whether an action is legal
        (row, col) = step
        
        # the position must be empty
        if self.board[row][col] != EMPTY or self.board[row][col] == CORNER:
            return False
        
        # inside 6x6
        if row > 0 and row < 7 \
        and col > 0 and col < 7:
            return True
        
        # out of 8x8
        if row < 0 or col < 0 \
        or row > 7 or col > 7:
            return False
        
        # edge placement: check flip rule is satisfied
        who, opponent = (BLACK, WHITE) if is_black else (WHITE, BLACK)

        for d in DIRECTIONS:
            (row, col) = step
            flip = False
            for loop in range(7):
                # move one step forward in Direction d
                row += d[0]
                col += d[1]

                # out of bound
                if row < 0 or col < 0 \
                or row > 7 or col > 7:
                    break
                
                # who -> opponent(+) -> who ===> flip
                if self.board[row][col] == EMPTY or self.board[row][col] == CORNER:
                    break
                if self.board[row][col] == who:
                    if flip:
                        return True
                    else:
                        break
                if self.board[row][col] == opponent:
                    fli = [row,col]
                    flip = True
        return False

    def set_and_flip(self, step, is_black):
        test_board = deepcopy(self.board)
        
        test_board[step[0]][step[1]] = BLACK if is_black else WHITE
        
        who, opponent = (BLACK, WHITE) if is_black else (WHITE, BLACK)
        for d in DIRECTIONS:
            (row, col) = step
            flip = False
            flip_set = []
            for loop in range(7):
                # move one step foward in Direction d
                row += d[0]
                col += d[1]
                
                # out of bound
                if row < 0 or col < 0 \
                or row > 7 or col > 7:
                    break

                if test_board[row][col] == EMPTY or test_board[row][col] == CORNER:
                    break
                if test_board[row][col] == who:
                    if flip:
                        # this edge placement is legal
                        for s in flip_set:
                            r,c = s
                            test_board[r][c] = who
                        break
                    else:
                        break
                if test_board[row][col] == opponent:
                    flip_set.append([row, col])
                    flip = True
        return test_board


def GetStep(board, is_black):
    if is_black:
        brain = agent()
    else:
        brain = agent()
    tuple_list, tuple_size = all_3_custom()
    brain.set_tuple(tuple_list, tuple_size)
    return brain.GetStep(board, is_black)


while(True):
    (stop_program, id_package, board, is_black) = STcpClient.GetBoard()
    if(stop_program):
        break

    Step = GetStep(board, is_black)
    STcpClient.SendStep(id_package, Step)
